<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Estadística Descriptiva - Análisis Factorial Exploratorio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="..//files/logo-removebg-preview.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script>


<meta property="og:title" content="Estadística Descriptiva - Análisis Factorial Exploratorio">
<meta property="og:description" content="¿Qué se puede deducir de la matriz de correlaciones en relación a la estructura subyacente en términos de variables latentes?">
<meta property="og:image" content="https://descriptiva-facso.netlify.app/files/logo.png">
<meta property="og:site-name" content="Estadística Descriptiva">
<meta property="og:locale" content="en_US">
<meta property="og:image:height" content="500">
<meta property="og:image:width" content="500">
<meta name="twitter:title" content="Estadística Descriptiva - Análisis Factorial Exploratorio">
<meta name="twitter:description" content="¿Qué se puede deducir de la matriz de correlaciones en relación a la estructura subyacente en términos de variables latentes?">
<meta name="twitter:image" content="https://descriptiva-facso.netlify.app/files/logo.png">
<meta name="twitter:creator" content="@andreaslaffert">
<meta name="twitter:site" content="@andreaslaffert">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="500">
<meta name="twitter:image-width" content="500">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Estadística Descriptiva</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html">
 <span class="menu-text">Programa</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../schedule.html">
 <span class="menu-text">Planificación</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../class/index.html">
 <span class="menu-text">Clases</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../content/index.html">
 <span class="menu-text">Prácticos</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../trabajos.html">
 <span class="menu-text">Trabajos</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../resource/index.html">
 <span class="menu-text">Recursos</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://login.rstudio.cloud/login?redirect=%2F">
 <span class="menu-text">RStudio Cloud</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">En esta página</h2>
   
  <ul>
  <li><a href="#librerías-y-datos" id="toc-librerías-y-datos" class="nav-link active" data-scroll-target="#librerías-y-datos">Librerías y Datos</a>
  <ul class="collapse">
  <li><a href="#librerías" id="toc-librerías" class="nav-link" data-scroll-target="#librerías">Librerías</a></li>
  <li><a href="#datos" id="toc-datos" class="nav-link" data-scroll-target="#datos">Datos</a></li>
  <li><a href="#exploración-de-datos" id="toc-exploración-de-datos" class="nav-link" data-scroll-target="#exploración-de-datos">Exploración de datos</a></li>
  </ul></li>
  <li><a href="#descriptivos" id="toc-descriptivos" class="nav-link" data-scroll-target="#descriptivos">Descriptivos</a>
  <ul class="collapse">
  <li><a href="#gráfico-barras-apiladas" id="toc-gráfico-barras-apiladas" class="nav-link" data-scroll-target="#gráfico-barras-apiladas">Gráfico barras apiladas</a></li>
  <li><a href="#analisis-de-matriz-de-correlaciones" id="toc-analisis-de-matriz-de-correlaciones" class="nav-link" data-scroll-target="#analisis-de-matriz-de-correlaciones">Analisis de matriz de correlaciones</a></li>
  </ul></li>
  <li><a href="#análisis-factorial" id="toc-análisis-factorial" class="nav-link" data-scroll-target="#análisis-factorial">Análisis factorial</a>
  <ul class="collapse">
  <li><a href="#seleccion-de-numero-de-factores" id="toc-seleccion-de-numero-de-factores" class="nav-link" data-scroll-target="#seleccion-de-numero-de-factores">Seleccion de numero de factores</a></li>
  <li><a href="#extracción" id="toc-extracción" class="nav-link" data-scroll-target="#extracción">Extracción</a></li>
  <li><a href="#rotación" id="toc-rotación" class="nav-link" data-scroll-target="#rotación">Rotación</a></li>
  <li><a href="#reporte-tabla-análisis-factorial" id="toc-reporte-tabla-análisis-factorial" class="nav-link" data-scroll-target="#reporte-tabla-análisis-factorial">Reporte: Tabla análisis factorial</a></li>
  </ul></li>
  <li><a href="#código" id="toc-código" class="nav-link" data-scroll-target="#código">Código</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Análisis Factorial Exploratorio</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Fecha de publicación</div>
    <div class="quarto-title-meta-contents">
      <p class="date">17 de noviembre de 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="librerías-y-datos" class="level1">
<h1>Librerías y Datos</h1>
<section id="librerías" class="level2">
<h2 class="anchored" data-anchor-id="librerías">Librerías</h2>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-1_c5b8dbd8551de3431117a5274717e7cb">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(stargazer, <span class="co"># Reporte</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>sjPlot, sjmisc, <span class="co"># reporte y gráficos</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>sjlabelled,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>corrplot, <span class="co"># grafico correlaciones</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>xtable, <span class="co"># Reporte</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>Hmisc, <span class="co"># varias funciones</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>psych, <span class="co"># fa y principal factors</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>psy, <span class="co"># scree plot function</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>nFactors, <span class="co"># parallel</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>GPArotation) <span class="co"># rotación</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/Users/macbookair/Downloads/encuestas-sociales-main/renv/library/R-4.2/aarch64-apple-darwin20'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>also installing the dependency 'htmlTable'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Hmisc installed</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/Users/macbookair/Downloads/encuestas-sociales-main/renv/library/R-4.2/aarch64-apple-darwin20'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
psy installed</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/Users/macbookair/Downloads/encuestas-sociales-main/renv/library/R-4.2/aarch64-apple-darwin20'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
nFactors installed</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/Users/macbookair/Downloads/encuestas-sociales-main/renv/library/R-4.2/aarch64-apple-darwin20'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
GPArotation installed</code></pre>
</div>
</div>
</section>
<section id="datos" class="level2">
<h2 class="anchored" data-anchor-id="datos">Datos</h2>
<p>Lectura de datos</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-2_bd2c492c53f3e9a52a61b00fc23999e2">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"input/data/efa_asignaturas.csv"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-3_15fe2c1184b604030cec6653f7fc50ba">

</div>
<ul>
<li>Muestra de 300 alumnos a los que se le pregunta por su asignatura favorita en una escala de 1 (no me agrada) a 5 (me agrada)</li>
</ul>
</section>
<section id="exploración-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="exploración-de-datos">Exploración de datos</h2>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-4_4ca23032f8c8b54c585b9c58ad31b228">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      BIO             GEO            CHEM            ALG            CALC      
 Min.   :1.000   Min.   :1.00   Min.   :1.000   Min.   :1.00   Min.   :1.000  
 1st Qu.:1.000   1st Qu.:1.00   1st Qu.:1.000   1st Qu.:2.00   1st Qu.:2.000  
 Median :2.000   Median :2.00   Median :2.000   Median :3.00   Median :3.000  
 Mean   :2.353   Mean   :2.17   Mean   :2.237   Mean   :3.05   Mean   :3.063  
 3rd Qu.:3.000   3rd Qu.:3.00   3rd Qu.:3.000   3rd Qu.:4.00   3rd Qu.:4.000  
 Max.   :5.000   Max.   :5.00   Max.   :5.000   Max.   :5.00   Max.   :5.000  
      STAT      
 Min.   :1.000  
 1st Qu.:2.000  
 Median :3.000  
 Mean   :2.937  
 3rd Qu.:4.000  
 Max.   :5.000  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(data)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "BIO"  "GEO"  "CHEM" "ALG"  "CALC" "STAT"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(data)  <span class="co"># filas columnas</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 300   6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(<span class="fu">na.omit</span>(data)) <span class="co"># número de casos con datos completos</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 300</code></pre>
</div>
</div>
</section>
</section>
<section id="descriptivos" class="level1">
<h1>Descriptivos</h1>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-5_eba8bbede8b0b002bb7599fc6fa22e1f">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(data, <span class="at">type =</span> <span class="st">"text"</span>)  <span class="co"># para visualizar en consola</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
====================================
Statistic  N  Mean  St. Dev. Min Max
------------------------------------
BIO       300 2.353  1.228    1   5 
GEO       300 2.170  1.230    1   5 
CHEM      300 2.237  1.273    1   5 
ALG       300 3.050  1.174    1   5 
CALC      300 3.063  1.127    1   5 
STAT      300 2.937  1.259    1   5 
------------------------------------</code></pre>
</div>
</div>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-6_928bff528df75252b3dff188e89cecaf">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(data, <span class="at">type =</span> <span class="st">"html"</span>) <span class="co"># a html</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>

<table style="text-align:center">
<tbody><tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St.&nbsp;Dev.
</td>
<td>
Min
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
BIO
</td>
<td>
300
</td>
<td>
2.353
</td>
<td>
1.228
</td>
<td>
1
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
GEO
</td>
<td>
300
</td>
<td>
2.170
</td>
<td>
1.230
</td>
<td>
1
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
CHEM
</td>
<td>
300
</td>
<td>
2.237
</td>
<td>
1.273
</td>
<td>
1
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
ALG
</td>
<td>
300
</td>
<td>
3.050
</td>
<td>
1.174
</td>
<td>
1
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
CALC
</td>
<td>
300
</td>
<td>
3.063
</td>
<td>
1.127
</td>
<td>
1
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
STAT
</td>
<td>
300
</td>
<td>
2.937
</td>
<td>
1.259
</td>
<td>
1
</td>
<td>
5
</td>
</tr>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>

</tbody></table>
</div>
<section id="gráfico-barras-apiladas" class="level2">
<h2 class="anchored" data-anchor-id="gráfico-barras-apiladas">Gráfico barras apiladas</h2>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-7_c12158fdf910e7bea23b4debd9cb6cd2">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#sjplot(data$BIO, "frq") # no muy buena descripción ...</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(data)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "BIO"  "GEO"  "CHEM" "ALG"  "CALC" "STAT"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_stackfrq</span>(data)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="05-resource_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Gráfico final</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-8_73fcdb26ddf72d8d0ce95b06a2dbb2b0">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#label values</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span>  <span class="fu">set_labels</span> (., <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No le agrada"</span><span class="ot">=</span><span class="dv">1</span>,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Le agrada"</span><span class="ot">=</span><span class="dv">5</span>))</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_stackfrq</span>(data, <span class="at">sort.frq =</span> <span class="st">"last.desc"</span>, <span class="at">geom.colors =</span> <span class="st">"OrRd"</span>) <span class="co">#+ theme(legend.position="bottom")</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="05-resource_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="analisis-de-matriz-de-correlaciones" class="level2">
<h2 class="anchored" data-anchor-id="analisis-de-matriz-de-correlaciones">Analisis de matriz de correlaciones</h2>
<p>Matriz</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-9_17b9d9b760a21f6025bd291e54d3498c">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>corMat  <span class="ot">&lt;-</span> <span class="fu">cor</span>(data)  <span class="co"># estimar matriz pearson</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits=</span><span class="dv">2</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>corMat <span class="co"># muestra matriz</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      BIO  GEO  CHEM   ALG CALC STAT
BIO  1.00 0.68 0.747 0.115 0.21 0.20
GEO  0.68 1.00 0.681 0.135 0.20 0.23
CHEM 0.75 0.68 1.000 0.084 0.14 0.17
ALG  0.12 0.14 0.084 1.000 0.77 0.41
CALC 0.21 0.20 0.136 0.771 1.00 0.51
STAT 0.20 0.23 0.166 0.409 0.51 1.00</code></pre>
</div>
</div>
<p>Reporte tabla</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-10_62a916846ead9aad4fe181e961e1772d">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_corr</span>(data, <span class="at">triangle =</span> <span class="st">"lower"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table style="border-collapse:collapse; border:none;">
<tbody><tr>
<th style="font-style:italic; font-weight:normal; border-top:double black; border-bottom:1px solid black; padding:0.2cm;">&nbsp;</th>
<th style="font-style:italic; font-weight:normal; border-top:double black; border-bottom:1px solid black; padding:0.2cm;">BIO</th>
<th style="font-style:italic; font-weight:normal; border-top:double black; border-bottom:1px solid black; padding:0.2cm;">GEO</th>
<th style="font-style:italic; font-weight:normal; border-top:double black; border-bottom:1px solid black; padding:0.2cm;">CHEM</th>
<th style="font-style:italic; font-weight:normal; border-top:double black; border-bottom:1px solid black; padding:0.2cm;">ALG</th>
<th style="font-style:italic; font-weight:normal; border-top:double black; border-bottom:1px solid black; padding:0.2cm;">CALC</th>
<th style="font-style:italic; font-weight:normal; border-top:double black; border-bottom:1px solid black; padding:0.2cm;">STAT</th>
</tr>
<tr>
<td style="font-style:italic;">BIO</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
</tr>
<tr>
<td style="font-style:italic;">GEO</td>
<td style="padding:0.2cm; text-align:center;">0.682<span style="vertical-align:super;font-size:0.8em;">***</span></td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
</tr>
<tr>
<td style="font-style:italic;">CHEM</td>
<td style="padding:0.2cm; text-align:center;">0.747<span style="vertical-align:super;font-size:0.8em;">***</span></td>
<td style="padding:0.2cm; text-align:center;">0.681<span style="vertical-align:super;font-size:0.8em;">***</span></td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
</tr>
<tr>
<td style="font-style:italic;">ALG</td>
<td style="padding:0.2cm; text-align:center;">0.115<span style="vertical-align:super;font-size:0.8em;">*</span></td>
<td style="padding:0.2cm; text-align:center;">0.135<span style="vertical-align:super;font-size:0.8em;">*</span></td>
<td style="padding:0.2cm; text-align:center; color:#999999;">0.084<span style="vertical-align:super;font-size:0.8em;"></span></td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
</tr>
<tr>
<td style="font-style:italic;">CALC</td>
<td style="padding:0.2cm; text-align:center;">0.213<span style="vertical-align:super;font-size:0.8em;">***</span></td>
<td style="padding:0.2cm; text-align:center;">0.205<span style="vertical-align:super;font-size:0.8em;">***</span></td>
<td style="padding:0.2cm; text-align:center;">0.136<span style="vertical-align:super;font-size:0.8em;">*</span></td>
<td style="padding:0.2cm; text-align:center;">0.771<span style="vertical-align:super;font-size:0.8em;">***</span></td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
</tr>
<tr>
<td style="font-style:italic;">STAT</td>
<td style="padding:0.2cm; text-align:center;">0.203<span style="vertical-align:super;font-size:0.8em;">***</span></td>
<td style="padding:0.2cm; text-align:center;">0.232<span style="vertical-align:super;font-size:0.8em;">***</span></td>
<td style="padding:0.2cm; text-align:center;">0.166<span style="vertical-align:super;font-size:0.8em;">**</span></td>
<td style="padding:0.2cm; text-align:center;">0.409<span style="vertical-align:super;font-size:0.8em;">***</span></td>
<td style="padding:0.2cm; text-align:center;">0.507<span style="vertical-align:super;font-size:0.8em;">***</span></td>
<td style="padding:0.2cm; text-align:center;">&nbsp;</td>
</tr>
<tr>
<td colspan="7" style="border-bottom:double black; border-top:1px solid black; font-style:italic; font-size:0.9em; text-align:right;">Computed correlation used pearson-method with listwise-deletion.</td>
</tr>
 
</tbody></table>
</div>
</div>
<p>Reporte gráfico con corrplot</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-11_ca156d3d0060b863e445459e3349163f">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>M<span class="ot">=</span><span class="fu">cor</span>(data) <span class="co"># matriz simple de correlaciones de los datos</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(M, <span class="at">type=</span><span class="st">"lower"</span>) <span class="co"># lower x bajo diagonal</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="05-resource_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Otra opción</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-12_7d4857f6abe9268643d8fe28fa7feb9f">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(M, <span class="at">type=</span><span class="st">"lower"</span>,</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">order=</span><span class="st">"AOE"</span>, <span class="at">cl.pos=</span><span class="st">"b"</span>, <span class="at">tl.pos=</span><span class="st">"d"</span>) <span class="co">#agrega nombres en diag.</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="05-resource_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="análisis-factorial" class="level1">
<h1>Análisis factorial</h1>
<p>¿Qué se puede deducir de la matriz de correlaciones en relación a la estructura subyacente en términos de variables latentes? Vemos dos grupos de indicadores asociados entre sí, y no asociados con el otro grupo. Por un lado, el grupo de chem, bio y geo, y por otro el de stat, calc y alg.</p>
<p>Adecuación de matriz para análisis factorial</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-13_5f61c61e5a80dc2517f217a81ae2f861">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">KMO</span>(corMat)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Kaiser-Meyer-Olkin factor adequacy
Call: KMO(r = corMat)
Overall MSA =  0.7
MSA for each item = 
 BIO  GEO CHEM  ALG CALC STAT 
0.73 0.81 0.72 0.60 0.60 0.84 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cortest.bartlett</span>(corMat, <span class="at">n =</span> <span class="dv">300</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$chisq
[1] 849

$p.value
[1] 2.6e-171

$df
[1] 15</code></pre>
</div>
</div>
<section id="seleccion-de-numero-de-factores" class="level2">
<h2 class="anchored" data-anchor-id="seleccion-de-numero-de-factores">Seleccion de numero de factores</h2>
<p>Graficos</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-14_1eba56c8b4d93d21054346242103fa8e">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">scree.plot</span>(data)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="05-resource_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-15_6816a0fd76b93cd50521c36053163dad">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fa.parallel</span>(corMat, <span class="at">n.obs=</span><span class="dv">300</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="05-resource_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  2  and the number of components =  2 </code></pre>
</div>
</div>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-16_8e7638e62e660e22d200bc11012fef84">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nFactors)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>ev <span class="ot">&lt;-</span> <span class="fu">eigen</span>(corMat) <span class="co"># get eigenvalues</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>ap <span class="ot">&lt;-</span> <span class="fu">parallel</span>(<span class="at">subject=</span><span class="dv">300</span>,<span class="at">var=</span><span class="dv">6</span>,</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">rep=</span><span class="dv">100</span>,<span class="at">cent=</span>.<span class="dv">05</span>)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>nS <span class="ot">&lt;-</span> <span class="fu">nScree</span>(<span class="at">x=</span>ev<span class="sc">$</span>values, <span class="at">aparallel=</span>ap<span class="sc">$</span>eigen<span class="sc">$</span>qevpea)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plotnScree</span>(nS)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="05-resource_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Factor de aceleración: solución numérica que muestra el punto que presenta el mayor cambio de pendiente</p>
<p>Optimal coordinates: muestra el primer eigenvalue que puede ser mejor “extrapolado” desde el eigenvalue previo (“optimal coordinates are the extrapolated coordinates of the previous eigenvalue that allow the observed eigenvalue to go beyond this extrapolation” (http://www.inside-r.org/packages/cran/nFactors/docs/nScree)</p>
</section>
<section id="extracción" class="level2">
<h2 class="anchored" data-anchor-id="extracción">Extracción</h2>
<p>Ejes principales</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-17_bd1c25793ca70be2c051c82f2e47c25b">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>fac_pa <span class="ot">&lt;-</span> <span class="fu">fa</span>(<span class="at">r =</span> data, <span class="at">nfactors =</span> <span class="dv">2</span>, <span class="at">fm=</span> <span class="st">"pa"</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(fac_pa)</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>fac_pa</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  pa
Call: fa(r = data, nfactors = 2, fm = "pa")
Standardized loadings (pattern matrix) based upon correlation matrix
       PA1   PA2   h2    u2 com
BIO   0.86  0.02 0.75 0.255 1.0
GEO   0.78  0.05 0.63 0.369 1.0
CHEM  0.87 -0.05 0.75 0.253 1.0
ALG  -0.04  0.81 0.65 0.354 1.0
CALC  0.01  0.96 0.92 0.081 1.0
STAT  0.13  0.50 0.29 0.709 1.1

                       PA1  PA2
SS loadings           2.14 1.84
Proportion Var        0.36 0.31
Cumulative Var        0.36 0.66
Proportion Explained  0.54 0.46
Cumulative Proportion 0.54 1.00

 With factor correlations of 
     PA1  PA2
PA1 1.00 0.21
PA2 0.21 1.00

Mean item complexity =  1
Test of the hypothesis that 2 factors are sufficient.

df null model =  15  with the objective function =  2.9 with Chi Square =  849
df of  the model are 4  and the objective function was  0.01 

The root mean square of the residuals (RMSR) is  0.01 
The df corrected root mean square of the residuals is  0.02 

The harmonic n.obs is  300 with the empirical chi square  0.78  with prob &lt;  0.94 
The total n.obs was  300  with Likelihood Chi Square =  3.3  with prob &lt;  0.51 

Tucker Lewis Index of factoring reliability =  1
RMSEA index =  0  and the 90 % confidence intervals are  0 0.08
BIC =  -20
Fit based upon off diagonal values = 1
Measures of factor score adequacy             
                                                   PA1  PA2
Correlation of (regression) scores with factors   0.94 0.96
Multiple R square of scores with factors          0.88 0.93
Minimum correlation of possible factor scores     0.77 0.86</code></pre>
</div>
</div>
<p>Maximum likelihood</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-18_8841b4ebbcb5c49835e36f1eb8c8a456">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>fac_ml <span class="ot">&lt;-</span> <span class="fu">fa</span>(<span class="at">r =</span> data, <span class="at">nfactors =</span> <span class="dv">2</span>, <span class="at">fm=</span> <span class="st">"ml"</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fac_ml)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Plot de cargas factoriales ml</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-19_d5434de1136f01aafa33d701ec79bb38">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor.plot</span>(fac_ml, <span class="at">labels=</span><span class="fu">rownames</span>(fac_ml<span class="sc">$</span>loadings))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="05-resource_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Obtención de Puntajes factoriales</strong></p>
<p>Los puntajes factoriales son vectores/variables que representan al factor latente como una variable observada y que por lo tanto suma una columna a la base de datos por cada factor extraído. Como la variable latente no tiene métrica, se le otorga una con media 0 y varianza 1. Los puntajes son una especie de índice pero donde la constribución de cada indicador al índice se encuentra ponderada por su carga factorial (su contribución a la variable latente común o factor).</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-20_56954ffbd067d49e7aeaf6bffbdecab8">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>fac_ml <span class="ot">&lt;-</span> <span class="fu">fa</span>(<span class="at">r =</span> data, <span class="at">nfactors =</span> <span class="dv">2</span>, <span class="at">fm=</span> <span class="st">"ml"</span>, <span class="at">scores=</span><span class="st">"regression"</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>data2<span class="ot">=</span>data</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>data3 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(data2, fac_ml<span class="sc">$</span>scores)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data3)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  BIO GEO CHEM ALG CALC STAT    ML2   ML1
1   1   1    1   1    1    1 -1.110 -1.84
2   4   4    3   4    4    4  1.153  0.85
3   2   1    3   4    1    1 -0.188 -1.61
4   2   3    2   4    4    3 -0.013  0.82
5   3   1    2   2    3    4 -0.070 -0.11
6   1   1    1   4    4    4 -1.022  0.84</code></pre>
</div>
</div>
</section>
<section id="rotación" class="level2">
<h2 class="anchored" data-anchor-id="rotación">Rotación</h2>
<p>Varimax (ortogonal)</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-21_85d4f1c3a3dd9a15ab3f88e09833c068">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>fac_ml_var <span class="ot">&lt;-</span> <span class="fu">fa</span>(<span class="at">r =</span> data, <span class="at">nfactors =</span> <span class="dv">2</span>, <span class="at">fm=</span> <span class="st">"ml"</span>, <span class="at">rotate=</span><span class="st">"varimax"</span>) <span class="co"># ortogonal</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>fac_ml_var</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  ml
Call: fa(r = data, nfactors = 2, rotate = "varimax", fm = "ml")
Standardized loadings (pattern matrix) based upon correlation matrix
      ML2  ML1   h2    u2 com
BIO  0.85 0.13 0.75 0.252 1.0
GEO  0.78 0.13 0.63 0.375 1.1
CHEM 0.86 0.06 0.75 0.249 1.0
ALG  0.03 0.79 0.63 0.374 1.0
CALC 0.10 0.97 0.95 0.048 1.0
STAT 0.17 0.51 0.29 0.715 1.2

                       ML2  ML1
SS loadings           2.12 1.86
Proportion Var        0.35 0.31
Cumulative Var        0.35 0.66
Proportion Explained  0.53 0.47
Cumulative Proportion 0.53 1.00

Mean item complexity =  1.1
Test of the hypothesis that 2 factors are sufficient.

df null model =  15  with the objective function =  2.9 with Chi Square =  849
df of  the model are 4  and the objective function was  0.01 

The root mean square of the residuals (RMSR) is  0.01 
The df corrected root mean square of the residuals is  0.02 

The harmonic n.obs is  300 with the empirical chi square  0.97  with prob &lt;  0.91 
The total n.obs was  300  with Likelihood Chi Square =  2.9  with prob &lt;  0.57 

Tucker Lewis Index of factoring reliability =  1
RMSEA index =  0  and the 90 % confidence intervals are  0 0.076
BIC =  -20
Fit based upon off diagonal values = 1
Measures of factor score adequacy             
                                                   ML2  ML1
Correlation of (regression) scores with factors   0.94 0.98
Multiple R square of scores with factors          0.88 0.95
Minimum correlation of possible factor scores     0.76 0.91</code></pre>
</div>
</div>
<p>Promax (oblicua)</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-22_98f292598d71871f97e4fa10a167f7b8">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>fac_ml_pro <span class="ot">&lt;-</span> <span class="fu">fa</span>(<span class="at">r =</span> data, <span class="at">nfactors =</span> <span class="dv">2</span>, <span class="at">fm=</span> <span class="st">"ml"</span>, <span class="at">rotate=</span><span class="st">"promax"</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>fac_ml_pro</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  ml
Call: fa(r = data, nfactors = 2, rotate = "promax", fm = "ml")
Standardized loadings (pattern matrix) based upon correlation matrix
       ML2   ML1   h2    u2 com
BIO   0.86  0.02 0.75 0.252 1.0
GEO   0.78  0.03 0.63 0.375 1.0
CHEM  0.88 -0.06 0.75 0.249 1.0
ALG  -0.09  0.81 0.63 0.374 1.0
CALC -0.05  0.99 0.95 0.048 1.0
STAT  0.10  0.50 0.29 0.715 1.1

                       ML2  ML1
SS loadings           2.12 1.86
Proportion Var        0.35 0.31
Cumulative Var        0.35 0.66
Proportion Explained  0.53 0.47
Cumulative Proportion 0.53 1.00

 With factor correlations of 
     ML2  ML1
ML2 1.00 0.28
ML1 0.28 1.00

Mean item complexity =  1
Test of the hypothesis that 2 factors are sufficient.

df null model =  15  with the objective function =  2.9 with Chi Square =  849
df of  the model are 4  and the objective function was  0.01 

The root mean square of the residuals (RMSR) is  0.01 
The df corrected root mean square of the residuals is  0.02 

The harmonic n.obs is  300 with the empirical chi square  0.97  with prob &lt;  0.91 
The total n.obs was  300  with Likelihood Chi Square =  2.9  with prob &lt;  0.57 

Tucker Lewis Index of factoring reliability =  1
RMSEA index =  0  and the 90 % confidence intervals are  0 0.076
BIC =  -20
Fit based upon off diagonal values = 1
Measures of factor score adequacy             
                                                   ML2  ML1
Correlation of (regression) scores with factors   0.94 0.98
Multiple R square of scores with factors          0.89 0.96
Minimum correlation of possible factor scores     0.77 0.91</code></pre>
</div>
</div>
</section>
<section id="reporte-tabla-análisis-factorial" class="level2">
<h2 class="anchored" data-anchor-id="reporte-tabla-análisis-factorial">Reporte: Tabla análisis factorial</h2>
<p>A html via sjPlot</p>
<div class="cell" data-hash="05-resource_cache/html/unnamed-chunk-23_cd104d97a461ecc2f15c24ab789cd8f4">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_fa</span>(data, <span class="at">rotation =</span> <span class="st">"varimax"</span>,<span class="at">show.comm =</span> <span class="cn">TRUE</span>, <span class="at">title =</span> <span class="st">"Análisis factorial asignaturas"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  2  and the number of components =  NA </code></pre>
</div>
<div class="cell-output-display">

<table style="border-collapse:collapse; border:none;">
<caption style="font-weight: bold; text-align:left;">Análisis factorial asignaturas</caption>
<tbody><tr>
<th style="border-top:double black; padding:0.2cm;">&nbsp;</th>
<th style="border-top:double black; padding:0.2cm;">Factor 1</th>
<th style="border-top:double black; padding:0.2cm;">Factor 2</th>
<th style="border-top:double black; padding:0.2cm; font-style:italic; color:#666666;">Communality</th>
</tr>
<tr>
<td style=" border-top:1px solid black;">BIO</td>
<td style="padding:0.2cm; text-align:center; border-top:1px solid black;">0.85</td>
<td style="padding:0.2cm; text-align:center; color:#cccccc; border-top:1px solid black;">0.13</td>
<td style="padding:0.2cm; font-style:italic; color:#666666; text-align:center; border-top:1px solid black;">0.75</td>
</tr>
<tr>
<td style="">GEO</td>
<td style="padding:0.2cm; text-align:center;">0.78</td>
<td style="padding:0.2cm; text-align:center; color:#cccccc;">0.13</td>
<td style="padding:0.2cm; font-style:italic; color:#666666; text-align:center;">0.63</td>
</tr>
<tr>
<td style="">CHEM</td>
<td style="padding:0.2cm; text-align:center;">0.86</td>
<td style="padding:0.2cm; text-align:center; color:#cccccc;">0.06</td>
<td style="padding:0.2cm; font-style:italic; color:#666666; text-align:center;">0.75</td>
</tr>
<tr>
<td style="">ALG</td>
<td style="padding:0.2cm; text-align:center; color:#cccccc;">0.03</td>
<td style="padding:0.2cm; text-align:center;">0.79</td>
<td style="padding:0.2cm; font-style:italic; color:#666666; text-align:center;">0.63</td>
</tr>
<tr>
<td style="">CALC</td>
<td style="padding:0.2cm; text-align:center; color:#cccccc;">0.10</td>
<td style="padding:0.2cm; text-align:center;">0.97</td>
<td style="padding:0.2cm; font-style:italic; color:#666666; text-align:center;">0.95</td>
</tr>
<tr>
<td style="">STAT</td>
<td style="padding:0.2cm; text-align:center; color:#cccccc;">0.17</td>
<td style="padding:0.2cm; text-align:center;">0.51</td>
<td style="padding:0.2cm; font-style:italic; color:#666666; text-align:center;">0.29</td>
</tr>
<tr>
<td style="padding:0.2cm; font-style:italic;">Total Communalities</td>
<td style="padding:0.2cm; text-align:center; font-style:italic;" colspan="2"></td>
<td style="padding:0.2cm; text-align:center; font-style:italic;">3.99</td>
</tr>
<tr>
<td style="padding:0.2cm; font-style:italic; border-bottom:double;">Cronbach's α</td>
<td style="padding:0.2cm; text-align:center; font-style:italic; border-bottom:double;">0.88</td>
<td style="padding:0.2cm; text-align:center; font-style:italic; border-bottom:double;">0.79</td>
<td style="padding:0.2cm; text-align:center; font-style:italic; border-bottom:double;"></td>
</tr>
 
</tbody></table>
</div>
</div>
</section>
</section>
<section id="código" class="level1">
<h1>Código</h1>
<p>El código de esta página se encuentra disponible en el repositorio del curso en <a href="https://github.com/juancarloscastillo/encuestas-sociales/blob/main/resource/05-resource.qmd">Github</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Content <i class="fa-brands fa-creative-commons" aria-hidden="true"></i> 2023 by <a href="?var:instructor.url">Andreas Laffert</a> <br> All content licensed under a <i class="fa-brands fa-creative-commons" aria-hidden="true"></i> <i class="fa-brands fa-creative-commons-by" aria-hidden="true"></i> <i class="fa-brands fa-creative-commons-nc" aria-hidden="true"></i> <a href="https://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International license (CC BY-NC 4.0)</a></div>   
    <div class="nav-footer-right">Made with <i class="fa-brands fa-r-project" aria-hidden="true"></i> and <a href="https://quarto.org/">Quarto</a><br> <a href="https://github.com/Andreas-Lafferte/descriptiva">View the source at <i class="fa-brands fa-github" aria-hidden="true"></i> GitHub</a></div>
  </div>
</footer>



</body></html>